{"version":3,"sources":["components/Header.js"],"names":["localStyle","iconStyle","fontSize","verticalAlign","iconBigStyle","color","connectWallet","chainAccount","ctx","data","showInfo","content","event","emit","menu","Item","target","rel","href","Config","whitepaperLink","onClick","ComponentView","history","useHistory","useState","account","setAccount","useEffect","lifetimeObj","mapData","console","log","replace","unmapActions","className","to","src","alt","style","slice","length","overlay","overlayClassName"],"mappings":"+QAcMA,EAAa,CACjBC,UAAW,CACTC,SAAU,OACVC,cAAe,UAEjBC,aAAc,CACZF,SAAU,OACVC,cAAe,SACfE,MAAO,SAILC,EAAgB,WAAO,IACnBC,EAAiBC,IAAIC,KAArBF,aACJA,EACFG,YAAS,CACPC,QAAQ,8CAAD,OAAgDJ,KAI3DC,IAAII,MAAMC,KAAK,kBAGXC,EAAO,WACX,OACE,eAAC,IAAD,WACE,cAAC,IAAKC,KAAN,UACE,mBAAGC,OAAO,SAASC,IAAI,aAAaC,KAAMC,IAAOC,eAAjD,0BAIF,cAAC,IAAKL,KAAN,CAAWM,QAASf,EAApB,SACE,gDAuEOgB,UA/DO,WACpB,IAAMC,EAAUC,cADU,EAGIC,mBAAS,IAHb,mBAGnBC,EAHmB,KAGVC,EAHU,KAyB1B,OApBAC,qBAAU,WACR,IAAMC,EAAc,GAcpB,OAZAC,YAAQ,CACNvB,aADM,SACOA,GACXwB,QAAQC,IAAIzB,GACRA,GACFoB,EAAWpB,GAEXgB,EAAQU,QAAQ,aAEhBV,EAAQU,QAAQ,OAGnBzB,IAAKqB,GACD,WACLK,YAAaL,MAEd,CAACN,IAGF,qBAAKY,UAAU,aAAf,SACE,sBAAKA,UAAU,YAAf,UACE,qBAAKA,UAAU,eAAf,SACE,qBAAKA,UAAU,eAAf,SACE,cAAC,IAAD,CAASC,GAAG,WAAZ,SACE,qBAAKC,IAAI,6CAA6CC,IAAI,eAYhE,sBAAKH,UAAU,YAAf,UACE,cAAC,IAAD,CAASA,UAAU,SAASC,GAAG,WAA/B,qBACA,cAAC,IAAD,CAASD,UAAU,SAASC,GAAG,WAA/B,qBACA,cAAC,IAAD,CAASD,UAAU,SAASC,GAAG,SAA/B,mBACA,cAAC,IAAD,CAASD,UAAU,SAASC,GAAG,WAA/B,wBAEF,sBAAKD,UAAU,mBAAmBd,QAASf,EAA3C,UACE,cAAC,IAAD,CAAgBiC,MAAOvC,EAAWC,YAClC,sBAAMkC,UAAU,QAAhB,SACGT,EAAWA,EAAQc,MAAM,EAAE,GAAG,MAAMd,EAAQc,OAAO,EAAEd,EAAQe,QAAQ,sBAG1E,cAAC,IAAD,CAAUC,QAAS5B,EAAMqB,UAAU,gBAAgBQ,iBAAiB,gBAApE,SACE,cAAC,IAAD,CAAkBJ,MAAOvC,EAAWI,wB","file":"static/js/14.1a1d9d9a.chunk.js","sourcesContent":["// bumper\nimport React, { useEffect, useState } from 'react';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport Menu from 'antd/lib/menu';\nimport Dropdown from 'antd/lib/dropdown';\nimport AuditOutlined from '@ant-design/icons/AuditOutlined';\nimport WalletOutlined from '@ant-design/icons/WalletOutlined';\nimport MenuFoldOutlined from '@ant-design/icons/MenuFoldOutlined';\nimport { showInfo } from './Modal';\nimport Config from '../config';\nimport './Header.scss';\n\nimport ctx, { mapData, unmapActions } from '../events';\n\nconst localStyle = {\n  iconStyle: {\n    fontSize: '15px',\n    verticalAlign: 'middle'\n  },\n  iconBigStyle: {\n    fontSize: '32px',\n    verticalAlign: 'middle',\n    color: '#fff'\n  }\n}\n\nconst connectWallet = () => {\n  const { chainAccount } = ctx.data;\n  if (chainAccount) {\n    showInfo({\n      content: `Your wallet address is already connected:\\n${chainAccount}`\n    });\n    return;\n  }\n  ctx.event.emit('connectWallet');\n}\n\nconst menu = () => {\n  return (\n    <Menu>\n      <Menu.Item>\n        <a target=\"_blank\" rel=\"noreferrer\" href={Config.whitepaperLink}>\n          whitepaper\n        </a>\n      </Menu.Item>\n      <Menu.Item onClick={connectWallet}>\n        <span>\n          wallet\n        </span>\n      </Menu.Item>\n    </Menu>\n  );\n};\n\nconst ComponentView = () => {\n  const history = useHistory();\n  // const location = useLocation();\n  const [account, setAccount] = useState('');\n\n  useEffect(() => {\n    const lifetimeObj = {};\n    // 页面初始化，监听钱包连接状态\n    mapData({\n      chainAccount(chainAccount) {\n        console.log(chainAccount)\n        if (chainAccount) {\n          setAccount(chainAccount);\n          // 如果已连接钱包，进入买入页面\n          history.replace('/markets');\n        } else {\n          history.replace('/');\n        }\n      }\n    }, ctx, lifetimeObj);\n    return () => {\n      unmapActions(lifetimeObj);\n    };\n  }, [history]);\n\n  return (\n    <div className=\"nav-header\">\n      <div className=\"container\">\n        <div className=\"logo-wrapper\">\n          <div className=\"logo logo-pc\">\n            <NavLink to=\"/markets\">\n              <img src=\"https://cdn.daikeniu.com/static/bumper.png\" alt=\"logo\" />\n            </NavLink>\n            {/* <a className=\"whitepaper button\" href={Config.whitepaperLink} target=\"_blank\" rel=\"noreferrer\">\n              <AuditOutlined style={localStyle.iconStyle} />\n              <span className=\"label\">WHITEPAPERS</span>\n            </a> */}\n          </div>\n          {/* <NavLink className=\"logo-mobile\" to=\"/list\">\n            <img src=\"https://cdn.daikeniu.com/static/bumper.png\" style=\"width:120px\" alt=\"logo\" />\n          </NavLink> */}\n          {/*<p className=\"logo-pc\">Decentralizen Hash Mining</p>*/}\n        </div>\n        <div className=\"navigator\">\n          <NavLink className=\"navtab\" to=\"/markets\" >Markets</NavLink>\n          <NavLink className=\"navtab\" to=\"/history\" >History</NavLink>\n          <NavLink className=\"navtab\" to=\"/farms\" >Farms</NavLink>\n          <NavLink className=\"navtab\" to=\"/xbumper\" >xBumper</NavLink>\n        </div>\n        <div className=\"wallet-pc button\" onClick={connectWallet}>\n          <WalletOutlined style={localStyle.iconStyle} />\n          <span className=\"label\">\n            {account ?  account.slice(0,6)+'...'+account.slice(-4,account.length):'Connect Wallet'}\n          </span>\n        </div>\n        <Dropdown overlay={menu} className=\"wallet-mobile\" overlayClassName=\"menu-dropdown\">\n          <MenuFoldOutlined style={localStyle.iconBigStyle} />\n        </Dropdown>\n      </div>\n    </div>\n  );\n};\n\nexport default ComponentView;\n"],"sourceRoot":""}