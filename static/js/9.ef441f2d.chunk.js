(this["webpackJsonpbumper-web"]=this["webpackJsonpbumper-web"]||[]).push([[9],{756:function(e,c,n){"use strict";n(0),n(757);var t=n(26);c.a=function(e){var c=e.token,n=void 0===c?"":c,a=e.placeholder,s=void 0===a?"":a,i=e.value,l=void 0===i?"":i,o=e.balance,r=void 0===o?0:o,d=e.onChange,b=void 0===d?function(){}:d,j=e.className,p=void 0===j?"":j,m=e.theme,O=void 0===m?"dark":m,h=s||"Amount of ".concat(n);return Object(t.jsx)("div",{className:p,children:Object(t.jsxs)("div",{className:"balance-input common-".concat(O),children:[Object(t.jsx)("input",{type:"number",value:l,placeholder:h,onChange:function(e){return b(e.target.value)}}),Object(t.jsx)("div",{children:Object(t.jsx)("span",{className:"max",onClick:function(){return b(r)},children:"Max"})})]})})}},757:function(e,c,n){},758:function(e,c,n){"use strict";n(0),n(759);var t=n(26);c.a=function(e){var c=e.balance,n=void 0===c?0:c,a=e.theme,s=void 0===a?"dark":a,i=e.onClick,l=void 0===i?function(){}:i,o=e.className,r=void 0===o?"":o;return Object(t.jsx)("div",{className:r,children:Object(t.jsxs)("div",{className:"p-box p-box-".concat(s),children:[Object(t.jsx)("div",{className:"p-cell p-cell-".concat(s),onClick:function(){l(.25*n)},children:"25%"}),Object(t.jsx)("div",{className:"p-cell p-cell-".concat(s),onClick:function(){l(.5*n)},children:"50%"}),Object(t.jsx)("div",{className:"p-cell p-cell-".concat(s),onClick:function(){l(.75*n)},children:"75%"}),Object(t.jsx)("div",{className:"p-cell p-cell-".concat(s),onClick:function(){l(n)},children:"100%"})]})})}},759:function(e,c,n){},830:function(e,c,n){},845:function(e,c,n){"use strict";n.r(c);var t=n(67),a=n(202),s=n(0),i=n(842),l=n(852),o=n(850),r=n(831),d=n.n(r),b=(n(830),n(29)),j=n(2),p=n(9),m=n(756),O=n(758),h=n(26),u=b.a.paired,x=b.a.BTOKEN_ADDRESS,v=b.a.CONTRACT_ADDRESS,N=b.a.MARKET_POOL_LIST,f=v.PAIRED,w=function(e){var c=e.item,n=e.theme,t=e.colAmt,s=void 0===t?0:t,l=e.bcAssetsMap,o=void 0===l?{}:l,r=e.pairedAmt,b=e.bcPrice,j=e.colPrice,p=e.lendApy,x=e.borrowApy,v=e.supply,N=void 0===v?[]:v,f=e.changeVisible,w=e.setIndex,k=e.updateOpNum,y=e.handleOp,g=e.goSwap,C=e.onDepositChange,T=e.openModal,E=c.col,A=c.colE,R=c.logo,S=c.logoPaired,D=c.mintRatio,M=c.expiry,B=c.mintRatioText,I=c.expiryText,L=c.opVisible,P=c.opNum,K=c.depositCheck,V=void 0!==K&&K,_=c.borrowInterest,F=void 0===_?0:_,G=c.lendInterest,q=void 0===G?0:G,z=c.impact,Y=void 0===z?0:z,J=c.index,U=o.BRTOKEN,W=o.BCTOKEN,$=Object(a.a)(N,2),H=$[0],Q=$[1],X=(b*H).toFixed(2),Z={col:E,colE:A,mintRatio:D,expiry:M},ee=Math.round((new Date).getTime()/1e3)>Number(M);return ee&&(J="collect"),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("tbody",{className:"".concat(L?"bg-"+n+"-inner":"bg-"+n),children:[Object(h.jsxs)("tr",{onClick:function(){f(L,c)},children:[Object(h.jsx)("td",{className:"titleTd",children:Object(h.jsxs)("div",{className:"market-cell",children:[Object(h.jsx)("u",{className:"card-img-u",children:Object(h.jsxs)("div",{className:"card-img-box",children:[Object(h.jsx)("div",{className:"col-img-wrap",children:Object(h.jsx)("div",{className:"col-img",children:Object(h.jsx)("img",{alt:"",src:R})})}),Object(h.jsx)("div",{className:"paired-img-wrap",children:Object(h.jsx)("div",{className:"paired-img",children:Object(h.jsx)("img",{alt:"",src:S})})})]})}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{children:[E,Object(h.jsxs)("span",{className:"card-title dotted",children:[" -$",j]}),"\xa0|\xa0",u]}),Object(h.jsxs)("div",{children:["Mint Ratio: ",B]})]})]})}),Object(h.jsx)("td",{children:I}),Object(h.jsxs)("td",{children:[p,"%",Object(h.jsx)("br",{}),x,"%"]}),Object(h.jsxs)("td",{children:[Object(h.jsx)("span",{className:"fz07",children:"bcToken: "}),W,Object(h.jsx)("br",{}),Object(h.jsx)("span",{className:"fz07",children:"brToken: "}),U]})]}),L?Object(h.jsx)("tr",{children:Object(h.jsx)("td",{colSpan:"4",children:Object(h.jsxs)("div",{className:"op-box bg-".concat(n,"-inner"),children:[Object(h.jsx)("div",{className:"op-box-setting",children:Object(h.jsx)(d.a,{className:"icon",onClick:function(){T(c)}})}),Object(h.jsx)("div",{className:"navigator",children:ee?Object(h.jsx)("div",{className:"navtab ".concat("collect"===J?"active":""),onClick:function(){w("collect",c)},children:"Collect"}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"navtab ".concat("borrow"===J?"active":""),onClick:function(){w("borrow",c)},children:"Borrow"}),Object(h.jsx)("div",{className:"navtab ".concat("lend"===J?"active":""),onClick:function(){w("lend",c)},children:"Lend"}),Object(h.jsx)("div",{className:"navtab ".concat("mint"===J?"active":""),onClick:function(){w("mint",c)},children:"Mint"}),U&&W?Object(h.jsx)("div",{className:"navtab ".concat("repay"===J?"active":""),onClick:function(){w("repay",c)},children:"Repay"}):null,W?Object(h.jsx)("div",{className:"navtab ".concat("redeem"===J?"active":""),onClick:function(){w("redeem",c)},children:"Redeem"}):null]})}),"borrow"===J?Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"op-tips",children:["Supply: ",Q," ",u]}),Object(h.jsxs)("div",{className:"op-row2",children:[Object(h.jsxs)("div",{className:"op-row2-l",children:["Available: ",Object(h.jsx)("span",{className:"bRed",children:s})," ",E]}),Object(h.jsx)(O.a,{balance:s,theme:n,onClick:function(e){k(e,c,"borrow",N)}})]}),Object(h.jsx)("div",{className:"op-row3",children:Object(h.jsx)(m.a,{className:"mine-input",token:E,value:P,onChange:function(e){k(e,c,"borrow",N)},balance:s,theme:n})}),Object(h.jsxs)("div",{className:"op-tips",children:["Deposit",Object(h.jsxs)("span",{className:"bRed",children:[" ",E," "]}),"to Borrow",Object(h.jsxs)("span",{className:"bGreen",children:[" ",u," "]})]}),P?Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"op-tips yellow",children:["Interested Owed Before Expiry: ",F," ",u]}),Object(h.jsxs)("div",{className:"op-tips yellow",children:["Annualized Interest Rate: ",x,"%"]}),Object(h.jsxs)("div",{className:"op-tips yellow",style:{marginTop:"8px"},children:["Price Impact: ",Y,"%"]})]}):null,Object(h.jsx)("div",{className:"op-btn-row",children:Object(h.jsx)("button",{className:"op-btn-base op-btn ".concat(P?"":"disabled"),onClick:function(){y(E,"borrow",P,Z)},children:"Confirm Borrow"})})]}):null,"lend"===J?Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"op-tips",children:["Demand: ",X," ",u]}),Object(h.jsxs)("div",{className:"op-row2",children:[Object(h.jsxs)("div",{className:"op-row2-l",children:["Available: ",Object(h.jsx)("span",{className:"bRed",children:r})," ",u]}),Object(h.jsx)(O.a,{balance:r,theme:n,onClick:function(e){k(e,c,"lend",N)}})]}),Object(h.jsx)("div",{className:"op-row3",children:Object(h.jsx)(m.a,{className:"mine-input",token:u,value:P,onChange:function(e){k(e,c,"lend",N)},balance:r,theme:n})}),Object(h.jsxs)("div",{className:"op-tips",children:["Lend",Object(h.jsxs)("span",{className:"bRed",children:[" ",u," "]})," for",Object(h.jsx)("span",{className:"bGreen",children:" bcTokens "})]}),P?Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"op-tips yellow",children:["Interested Owed Before Expiry: ",q," WBNB"]}),Object(h.jsxs)("div",{className:"op-tips yellow",children:["Annualized Interest Rate: ",p,"%"]}),Object(h.jsxs)("div",{className:"op-tips yellow",style:{marginTop:"8px"},children:["Price Impact: ",Y,"%"]})]}):null,Object(h.jsxs)("div",{className:"op-btn-row",children:[Object(h.jsx)("button",{className:"op-btn-base op-btn ".concat(P?"":"disabled"," "),onClick:function(){y(E,"lend",P,Z)},children:"Confirm Lend"}),Object(h.jsx)("button",{className:"op-btn-base op-btn-liquidity",onClick:function(){g(A)},children:"+ Liquidity"})]})]}):null,"mint"===J?Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"op-tips",children:[V?"Deposit ".concat(E," to mint bcTokens and brTokens"):"Deposit ".concat(u," to mint bcTokens")," "]}),Object(h.jsx)("div",{className:"op-tips yellow",children:V?"1 ".concat(E," mints 25000 bcTokens and brTokens. It will NOT receive Lend APY, use Lend to earn Lend APY"):"1 ".concat(u," mints 1 bcToken. It will NOT receive Lend APY, use Lend to earn Lend APY")}),Object(h.jsxs)("div",{className:"tal",children:[Object(h.jsx)(i.a,{checked:V,onChange:function(){C(V,c)}}),"\xa0\xa0Use ",E]}),Object(h.jsxs)("div",{className:"op-row2",children:[Object(h.jsxs)("div",{className:"op-row2-l",children:["Available: ",Object(h.jsx)("span",{className:"bRed",children:V?s:r})," ",V?E:u]}),Object(h.jsx)(O.a,{balance:V?s:r,theme:n,onClick:function(e){k(e,c)}})]}),Object(h.jsx)("div",{className:"op-row3",children:Object(h.jsx)(m.a,{className:"mine-input",token:V?E:u,value:P,onChange:function(e){k(e,c)},balance:V?s:r,theme:n})}),V?Object(h.jsxs)("div",{className:"op-tips",children:["Deposit",Object(h.jsxs)("span",{className:"bRed",children:[" ",E," "]})," for",Object(h.jsx)("span",{className:"bGreen",children:" bcTokens "}),"&",Object(h.jsx)("span",{className:"bGreen",children:" brTokens "})]}):Object(h.jsxs)("div",{className:"op-tips",children:["Deposit",Object(h.jsxs)("span",{className:"bRed",children:[" ",u," "]}),"for",Object(h.jsx)("span",{className:"bGreen",children:" bcToken "})]}),Object(h.jsxs)("div",{className:"op-btn-row",children:[Object(h.jsx)("button",{className:"op-btn-base op-btn ".concat(P?"":"disabled"," "),onClick:function(){y(E,V?"deposit":"mmDeposit",P,Z)},children:"Confirm Deposit"}),Object(h.jsx)("button",{className:"op-btn-base op-btn-liquidity",onClick:function(){g(E)},children:"+ Liquidity"})]})]}):null,"repay"===J?Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"op-row2",children:[Object(h.jsxs)("div",{className:"op-row2-l",children:["Available: ",Object(h.jsx)("span",{className:"bRed",children:U})," brToken"]}),Object(h.jsx)(O.a,{balance:U,theme:n,onClick:function(e){k(e,c)}})]}),Object(h.jsx)("div",{className:"op-row3",children:Object(h.jsx)(m.a,{className:"mine-input",token:"brToken",value:P,onChange:function(e){k(e,c)},balance:U,theme:n})}),Object(h.jsx)("div",{className:"op-btn-row",children:Object(h.jsx)("button",{className:"op-btn-base op-btn ".concat(P?"":"disabled"),onClick:function(){y(E,"repay",P,Z)},children:"Confirm Repay"})})]}):null,"redeem"===J?Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"op-row2",children:[Object(h.jsxs)("div",{className:"op-row2-l",children:["Available: ",Object(h.jsx)("span",{className:"bRed",children:U})," brToken, ",Object(h.jsx)("span",{className:"bRed",children:W})," bcToken"]}),Object(h.jsx)(O.a,{balance:Math.min(U,W),theme:n,onClick:function(e){k(e,c)}})]}),Object(h.jsx)("div",{className:"op-row3",children:Object(h.jsx)(m.a,{className:"mine-input",token:"bToken",value:P,onChange:function(e){k(e,c)},balance:Math.min(U,W),theme:n})}),Object(h.jsx)("div",{className:"op-btn-row",children:Object(h.jsx)("button",{className:"op-btn-base op-btn ".concat(P?"":"disabled"),onClick:function(){y(E,"redeem",P,Z)},children:"Confirm Redeem"})})]}):null,"collect"===J?Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"op-row2",children:[Object(h.jsxs)("div",{className:"op-row2-l",children:["Available: ",Object(h.jsx)("span",{className:"bRed",children:W})," bcToken"]}),Object(h.jsx)(O.a,{balance:W,theme:n,onClick:function(e){k(e,c)}})]}),Object(h.jsx)("div",{className:"op-row3",children:Object(h.jsx)(m.a,{className:"mine-input",token:"bcToken",value:P,onChange:function(e){k(e,c)},balance:W,theme:n})}),Object(h.jsx)("div",{className:"op-btn-row",children:Object(h.jsx)("button",{className:"op-btn-base op-btn ".concat(P?"":"disabled"),onClick:function(){y(E,"collect",P,Z)},children:"Confirm collect"})})]}):null]})})}):null]})})};c.default=function(){var e=Object(p.j)(),c=Object(s.useState)(e),n=Object(a.a)(c,2),r=n[0],d=n[1],O=Object(s.useState)([]),u=Object(a.a)(O,2),v=u[0],k=u[1],y=Object(s.useState)(!1),g=Object(a.a)(y,2),C=g[0],T=g[1],E=Object(s.useState)(!1),A=Object(a.a)(E,2),R=A[0],S=A[1],D=Object(s.useState)({btcb:{},eth:{}}),M=Object(a.a)(D,2),B=M[0],I=M[1],L=Object(s.useState)(0),P=Object(a.a)(L,2),K=P[0],V=P[1],_=Object(s.useState)({}),F=Object(a.a)(_,2),G=F[0],q=F[1],z=Object(s.useState)({}),Y=Object(a.a)(z,2),J=Y[0],U=Y[1],W=Object(s.useState)({}),$=Object(a.a)(W,2),H=$[0],Q=$[1],X=Object(s.useState)({}),Z=Object(a.a)(X,2),ee=Z[0],ce=Z[1],ne=Object(s.useState)(!1),te=Object(a.a)(ne,2),ae=te[0],se=te[1],ie=Object(s.useState)(!1),le=Object(a.a)(ie,2),oe=le[0],re=le[1];Object(s.useEffect)((function(){var e,c=ue(),n=Object(t.a)(c);try{for(n.s();!(e=n.n()).done;){var a=e.value;a.opVisible=!1,a.index="borrow",a.opNum=0}}catch(s){n.e(s)}finally{n.f()}k(c)}),[]),Object(s.useEffect)((function(){var e={};return Object(j.b)({theme:function(e){d(e)},pairedAmt:function(e){V(e)},colAmtMap:function(e){var c,n=Object(t.a)(N);try{for(n.s();!(c=n.n()).done;){var a=c.value;e[a.col]&&(B[a.col]=e[a.col])}}catch(s){n.e(s)}finally{n.f()}I(Object.assign({},B))},bTokenMap:function(e){var c,n=Object(t.a)(N);try{for(n.s();!(c=n.n()).done;){var a=c.value;e[a.colE]&&(B[a.colE]={},B[a.colE].BRTOKEN=e[a.colE].BRTOKEN,B[a.colE].BCTOKEN=e[a.colE].BCTOKEN)}}catch(s){n.e(s)}finally{n.f()}I(Object.assign({},B))},poolLpReserveMap:function(e){var c,n=Object(t.a)(N);try{for(n.s();!(c=n.n()).done;){var a=c.value;e[a.colE]&&(ee[a.colE]=e[a.colE])}}catch(s){n.e(s)}finally{n.f()}ce(Object.assign({},ee))},colPriceMap:function(e){var c,n=Object(t.a)(N);try{for(n.s();!(c=n.n()).done;){var a=c.value;e[a.col]&&(G[a.col]=e[a.col])}}catch(s){n.e(s)}finally{n.f()}q(Object.assign({},G))},bcPriceMap:function(e){var c,n=Object(t.a)(N);try{for(n.s();!(c=n.n()).done;){var a=c.value;e[a.colE]&&(G[a.colE]=e[a.colE])}}catch(s){n.e(s)}finally{n.f()}q(Object.assign({},G))},lendApyMap:function(e){U(Object.assign({},e))},borrowApyMap:function(e){Q(Object.assign({},e))}},j.a,e),function(){Object(j.c)(e)}}),[]);var de=function(e,c){c.opVisible=!e,k([].concat(v))},be=function(e,c){c.index=e,k([].concat(v))},je=function(e,c){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"other",t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];c.opNum=e;var a=G[c.colE];"borrow"===n?(c.impact=Object(p.f)(e,t[0],t[1],c.mintRatioText,n),c.borrowInterest=(e*Number(c.mintRatioText)*(1-a)).toFixed(4)):"lend"===n&&(c.impact=Object(p.f)(e,t[0],t[1],c.mintRatioText,n),c.lendInterest=(e*(1/a-1)).toFixed(4)),k([].concat(v))},pe=function(e,c){c.depositCheck=!e,k([].concat(v))},me=function(e,c,n,t){var a=Object(p.g)(n);a&&(console.log(e,c,n,a),"borrow"===c&&j.a.event.emit("depositAndSwapToPaired",{col:e,num:n,ext:t}),"lend"===c&&j.a.event.emit("lend",{col:e,num:n,ext:t}),"deposit"===c&&j.a.event.emit("deposit",{col:e,num:n,ext:t}),"mmDeposit"===c&&j.a.event.emit("mmDeposit",{col:e,num:n,ext:t}),"repay"===c&&j.a.event.emit("repay",{col:e,num:n,ext:t}),"redeem"===c&&j.a.event.emit("redeem",{col:e,num:n,ext:t}),"collect"===c&&j.a.event.emit("collect",{col:e,num:n,ext:t}))},Oe=function(e){var c=x[e].BCTOKEN,n=b.a.swapUrl+"add/"+c+"/"+f;window.open(n,"_blank")},he=function(e){console.log(e),T(!0)},ue=function(){var e,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"valid",n=b.a.MARKET_POOL_LIST,a=[],s=Object(t.a)(n);try{for(s.s();!(e=s.n()).done;){var i=e.value;i.inActiveFlag||a.push(i)}}catch(l){s.e(l)}finally{s.f()}return"valid"===c?a:n};return Object(h.jsxs)("div",{className:"page-center",style:{justifyContent:"flex-start",paddingTop:"40px",padding:"8px 16px",width:"100%"},children:[Object(h.jsxs)("div",{className:"flex",style:{width:"100%"},children:[Object(h.jsxs)("div",{className:"flex1 tal",children:[Object(h.jsx)(i.a,{checked:oe,onChange:function(){!function(){re(!oe);var e,c=ue(oe?"valid":"all"),n=Object(t.a)(c);try{for(n.s();!(e=n.n()).done;){var a=e.value;a.opVisible=!1,a.index="borrow",a.opNum=0}}catch(s){n.e(s)}finally{n.f()}k(c)}()}}),"\xa0Show inactive pairs"]}),Object(h.jsxs)("div",{className:"flex1 tar",children:[Object(h.jsx)(i.a,{checked:ae,onChange:function(){!function(){se(!ae);var e,c=ue(),n=[],a=Object(t.a)(c);try{for(a.s();!(e=a.n()).done;){var s=e.value;if(s.opVisible=!1,s.index="borrow",s.opNum=0,ae)n.push(s);else{var i=B[s.colE],l=i.BRTOKEN,o=i.BCTOKEN;(l||o)&&n.push(s)}}}catch(r){a.e(r)}finally{a.f()}k(n)}()}}),"\xa0Only show my positions"]})]}),Object(h.jsx)("div",{className:"card bg-".concat(r),children:Object(h.jsx)("div",{className:"card-container",children:Object(h.jsxs)("table",{className:"card-table",children:[Object(h.jsx)("thead",{children:Object(h.jsx)("tr",{children:p.b.map((function(e,c){return Object(h.jsx)("th",{className:"".concat("Due Date"===e?"underline":""),children:"Due Date"===e?Object(h.jsx)(l.a,{placement:"topLeft",title:"loan must be repaid before expiry or you will default and lose your collateral.",children:e}):e},c)}))})}),v.map((function(e,c){return Object(h.jsx)(w,{item:e,theme:r,colAmt:B[e.col],bcAssetsMap:B[e.colE],pairedAmt:K,colPrice:G[e.col],bcPrice:G[e.colE],lendApy:J[e.colE],borrowApy:H[e.colE],supply:ee[e.colE],changeVisible:de,setIndex:be,updateOpNum:je,handleOp:me,goSwap:Oe,onDepositChange:pe,openModal:he},c)})),v.length?null:Object(h.jsx)("tbody",{children:Object(h.jsx)("tr",{children:Object(h.jsx)("td",{colSpan:"4",className:"empty",children:"No pool in Market!"})})})]})})}),Object(h.jsxs)(o.a,{title:"Settings",width:320,visible:C,onOk:function(){console.log("ok")},onCancel:function(){T(!1)},footer:null,closable:!1,children:[Object(h.jsx)("div",{className:"dotted",children:"Slippage Tolerance %"}),Object(h.jsx)(m.a,{className:"mine-input",placeholder:"Max Slippage %",value:R,onChange:function(e){S(e)},balance:100,theme:r})]})]})}}}]);
//# sourceMappingURL=9.ef441f2d.chunk.js.map