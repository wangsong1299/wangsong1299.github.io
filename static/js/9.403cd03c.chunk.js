(this["webpackJsonpbumper-web"]=this["webpackJsonpbumper-web"]||[]).push([[9],{756:function(e,c,t){"use strict";t(0),t(757);var n=t(26);c.a=function(e){var c=e.token,t=void 0===c?"":c,a=e.placeholder,s=void 0===a?"":a,i=e.value,l=void 0===i?"":i,o=e.balance,r=void 0===o?0:o,d=e.onChange,b=void 0===d?function(){}:d,j=e.className,p=void 0===j?"":j,m=e.theme,O=void 0===m?"dark":m,h=s||"Amount of ".concat(t);return Object(n.jsx)("div",{className:p,children:Object(n.jsxs)("div",{className:"balance-input common-".concat(O),children:[Object(n.jsx)("input",{type:"number",value:l,placeholder:h,onChange:function(e){return b(e.target.value)}}),Object(n.jsx)("div",{children:Object(n.jsx)("span",{className:"max",onClick:function(){return b(r)},children:"Max"})})]})})}},757:function(e,c,t){},758:function(e,c,t){"use strict";t(0),t(759);var n=t(26);c.a=function(e){var c=e.balance,t=void 0===c?0:c,a=e.theme,s=void 0===a?"dark":a,i=e.onClick,l=void 0===i?function(){}:i,o=e.className,r=void 0===o?"":o;return Object(n.jsx)("div",{className:r,children:Object(n.jsxs)("div",{className:"p-box p-box-".concat(s),children:[Object(n.jsx)("div",{className:"p-cell p-cell-".concat(s),onClick:function(){l(.25*t)},children:"25%"}),Object(n.jsx)("div",{className:"p-cell p-cell-".concat(s),onClick:function(){l(.5*t)},children:"50%"}),Object(n.jsx)("div",{className:"p-cell p-cell-".concat(s),onClick:function(){l(.75*t)},children:"75%"}),Object(n.jsx)("div",{className:"p-cell p-cell-".concat(s),onClick:function(){l(t)},children:"100%"})]})})}},759:function(e,c,t){},830:function(e,c,t){},842:function(e,c,t){"use strict";t.r(c);var n=t(67),a=t(202),s=t(0),i=t(839),l=t(849),o=t(847),r=(t(830),t(29)),d=t(2),b=t(9),j=t(756),p=t(758),m=t(26),O=r.a.Paired,h=r.a.BTOKEN_ADDRESS,u=r.a.CONTRACT_ADDRESS,x=r.a.MARKET_POOL_LIST,v=r.a.SlippageTolerance,N=u.PAIRED,f=function(e){var c=e.item,t=e.theme,n=e.colAmt,s=void 0===n?0:n,l=e.bcAssetsMap,o=void 0===l?{}:l,r=e.pairedAmt,d=e.bcPrice,b=e.colPrice,h=e.lendApy,u=e.borrowApy,x=e.supply,v=void 0===x?[]:x,N=e.changeVisible,f=e.setIndex,w=e.updateOpNum,k=e.handleOp,y=e.goSwap,g=e.onDepositChange,C=(e.openModal,c.col),T=c.colE,E=c.logo,A=c.logoPaired,R=c.mintRatio,S=c.expiry,D=c.mintRatioText,L=c.expiryText,M=c.opVisible,P=c.opNum,B=c.depositCheck,I=void 0!==B&&B,K=c.borrowInterest,V=void 0===K?0:K,_=c.lendInterest,F=void 0===_?0:_,G=c.impact,q=void 0===G?0:G,z=c.impactLimit,Y=void 0!==z&&z,J=c.index,U=o.BRTOKEN,W=o.BCTOKEN,$=Object(a.a)(v,2),H=$[0],Q=$[1],X=(d*H).toFixed(2),Z={col:C,colE:T,mintRatio:R,expiry:S,impactLimit:Y},ee=Math.round((new Date).getTime()/1e3)>Number(S);return ee&&(J="collect"),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("tbody",{className:"".concat(M?"bg-"+t+"-inner":"bg-"+t),children:[Object(m.jsxs)("tr",{onClick:function(){N(M,c)},children:[Object(m.jsx)("td",{className:"titleTd",children:Object(m.jsxs)("div",{className:"market-cell",children:[Object(m.jsx)("u",{className:"card-img-u",children:Object(m.jsxs)("div",{className:"card-img-box",children:[Object(m.jsx)("div",{className:"col-img-wrap",children:Object(m.jsx)("div",{className:"col-img",children:Object(m.jsx)("img",{alt:"",src:E})})}),Object(m.jsx)("div",{className:"paired-img-wrap",children:Object(m.jsx)("div",{className:"paired-img",children:Object(m.jsx)("img",{alt:"",src:A})})})]})}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{children:[C,Object(m.jsxs)("span",{className:"card-title dotted",children:[" -$",b]}),"\xa0|\xa0",O]}),Object(m.jsxs)("div",{children:["Mint Ratio: ",D]})]})]})}),Object(m.jsx)("td",{children:L}),Object(m.jsxs)("td",{children:[h,"%",Object(m.jsx)("br",{}),u,"%"]}),Object(m.jsxs)("td",{children:[Object(m.jsx)("span",{className:"fz07",children:"bcToken: "}),W,Object(m.jsx)("br",{}),Object(m.jsx)("span",{className:"fz07",children:"brToken: "}),U]})]}),M?Object(m.jsx)("tr",{children:Object(m.jsx)("td",{colSpan:"4",children:Object(m.jsxs)("div",{className:"op-box bg-".concat(t,"-inner"),children:[Object(m.jsx)("div",{className:"navigator",children:ee?Object(m.jsx)("div",{className:"navtab ".concat("collect"===J?"active":""),onClick:function(){f("collect",c)},children:"Collect"}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"navtab ".concat("borrow"===J?"active":""),onClick:function(){f("borrow",c)},children:"Borrow"}),Object(m.jsx)("div",{className:"navtab ".concat("lend"===J?"active":""),onClick:function(){f("lend",c)},children:"Lend"}),Object(m.jsx)("div",{className:"navtab ".concat("mint"===J?"active":""),onClick:function(){f("mint",c)},children:"Mint"}),U&&W?Object(m.jsx)("div",{className:"navtab ".concat("repay"===J?"active":""),onClick:function(){f("repay",c)},children:"Repay"}):null,W?Object(m.jsx)("div",{className:"navtab ".concat("redeem"===J?"active":""),onClick:function(){f("redeem",c)},children:"Redeem"}):null]})}),"borrow"===J?Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"op-tips",children:["Supply: ",Q," ",O]}),Object(m.jsxs)("div",{className:"op-row2",children:[Object(m.jsxs)("div",{className:"op-row2-l",children:["Available: ",Object(m.jsx)("span",{className:"bRed",children:s})," ",C]}),Object(m.jsx)(p.a,{balance:s,theme:t,onClick:function(e){w(e,c,"borrow",v)}})]}),Object(m.jsx)("div",{className:"op-row3",children:Object(m.jsx)(j.a,{className:"mine-input",token:C,value:P,onChange:function(e){w(e,c,"borrow",v)},balance:s,theme:t})}),Object(m.jsxs)("div",{className:"op-tips",children:["Deposit",Object(m.jsxs)("span",{className:"bRed",children:[" ",C," "]}),"to Borrow",Object(m.jsxs)("span",{className:"bGreen",children:[" ",O," "]})]}),P?Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"op-tips yellow",children:["Interested Owed Before Expiry: ",V," ",O]}),Object(m.jsxs)("div",{className:"op-tips yellow",children:["Annualized Interest Rate: ",u,"%"]}),Object(m.jsxs)("div",{className:"op-tips yellow",style:{marginTop:"8px"},children:["Price Impact: ",q,"%"]})]}):null,Object(m.jsx)("div",{className:"op-btn-row",children:Object(m.jsx)("button",{className:"op-btn-base op-btn ".concat(P&&!Y?"":"disabled"),onClick:function(){k(C,"borrow",P,Z)},children:"Confirm Borrow"})})]}):null,"lend"===J?Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"op-tips",children:["Demand: ",X," ",O]}),Object(m.jsxs)("div",{className:"op-row2",children:[Object(m.jsxs)("div",{className:"op-row2-l",children:["Available: ",Object(m.jsx)("span",{className:"bRed",children:r})," ",O]}),Object(m.jsx)(p.a,{balance:r,theme:t,onClick:function(e){w(e,c,"lend",v)}})]}),Object(m.jsx)("div",{className:"op-row3",children:Object(m.jsx)(j.a,{className:"mine-input",token:O,value:P,onChange:function(e){w(e,c,"lend",v)},balance:r,theme:t})}),Object(m.jsxs)("div",{className:"op-tips",children:["Lend",Object(m.jsxs)("span",{className:"bRed",children:[" ",O," "]})," for",Object(m.jsx)("span",{className:"bGreen",children:" bcTokens "})]}),P?Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"op-tips yellow",children:["Interested Owed Before Expiry: ",F," WBNB"]}),Object(m.jsxs)("div",{className:"op-tips yellow",children:["Annualized Interest Rate: ",h,"%"]}),Object(m.jsxs)("div",{className:"op-tips yellow",style:{marginTop:"8px"},children:["Price Impact: ",q,"%"]})]}):null,Object(m.jsxs)("div",{className:"op-btn-row",children:[Object(m.jsx)("button",{className:"op-btn-base op-btn ".concat(P&&!Y?"":"disabled"," "),onClick:function(){k(C,"lend",P,Z)},children:"Confirm Lend"}),Object(m.jsx)("button",{className:"op-btn-base op-btn-liquidity",onClick:function(){y(T)},children:"+ Liquidity"})]})]}):null,"mint"===J?Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"op-tips",children:[I?"Deposit ".concat(C," to mint bcTokens and brTokens"):"Deposit ".concat(O," to mint bcTokens")," "]}),Object(m.jsx)("div",{className:"op-tips yellow",children:I?"1 ".concat(C," mints 25000 bcTokens and brTokens. It will NOT receive Lend APY, use Lend to earn Lend APY"):"1 ".concat(O," mints 1 bcToken. It will NOT receive Lend APY, use Lend to earn Lend APY")}),Object(m.jsxs)("div",{className:"tal",children:[Object(m.jsx)(i.a,{checked:I,onChange:function(){g(I,c)}}),"\xa0\xa0Use ",C]}),Object(m.jsxs)("div",{className:"op-row2",children:[Object(m.jsxs)("div",{className:"op-row2-l",children:["Available: ",Object(m.jsx)("span",{className:"bRed",children:I?s:r})," ",I?C:O]}),Object(m.jsx)(p.a,{balance:I?s:r,theme:t,onClick:function(e){w(e,c)}})]}),Object(m.jsx)("div",{className:"op-row3",children:Object(m.jsx)(j.a,{className:"mine-input",token:I?C:O,value:P,onChange:function(e){w(e,c)},balance:I?s:r,theme:t})}),I?Object(m.jsxs)("div",{className:"op-tips",children:["Deposit",Object(m.jsxs)("span",{className:"bRed",children:[" ",C," "]})," for",Object(m.jsx)("span",{className:"bGreen",children:" bcTokens "}),"&",Object(m.jsx)("span",{className:"bGreen",children:" brTokens "})]}):Object(m.jsxs)("div",{className:"op-tips",children:["Deposit",Object(m.jsxs)("span",{className:"bRed",children:[" ",O," "]}),"for",Object(m.jsx)("span",{className:"bGreen",children:" bcToken "})]}),Object(m.jsxs)("div",{className:"op-btn-row",children:[Object(m.jsx)("button",{className:"op-btn-base op-btn ".concat(P?"":"disabled"," "),onClick:function(){k(C,I?"deposit":"mmDeposit",P,Z)},children:"Confirm Deposit"}),Object(m.jsx)("button",{className:"op-btn-base op-btn-liquidity",onClick:function(){y(C)},children:"+ Liquidity"})]})]}):null,"repay"===J?Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"op-row2",children:[Object(m.jsxs)("div",{className:"op-row2-l",children:["Available: ",Object(m.jsx)("span",{className:"bRed",children:U})," brToken"]}),Object(m.jsx)(p.a,{balance:U,theme:t,onClick:function(e){w(e,c)}})]}),Object(m.jsx)("div",{className:"op-row3",children:Object(m.jsx)(j.a,{className:"mine-input",token:"brToken",value:P,onChange:function(e){w(e,c)},balance:U,theme:t})}),Object(m.jsx)("div",{className:"op-btn-row",children:Object(m.jsx)("button",{className:"op-btn-base op-btn ".concat(P?"":"disabled"),onClick:function(){k(C,"repay",P,Z)},children:"Confirm Repay"})})]}):null,"redeem"===J?Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"op-row2",children:[Object(m.jsxs)("div",{className:"op-row2-l",children:["Available: ",Object(m.jsx)("span",{className:"bRed",children:U})," brToken, ",Object(m.jsx)("span",{className:"bRed",children:W})," bcToken"]}),Object(m.jsx)(p.a,{balance:Math.min(U,W),theme:t,onClick:function(e){w(e,c)}})]}),Object(m.jsx)("div",{className:"op-row3",children:Object(m.jsx)(j.a,{className:"mine-input",token:"bToken",value:P,onChange:function(e){w(e,c)},balance:Math.min(U,W),theme:t})}),Object(m.jsx)("div",{className:"op-btn-row",children:Object(m.jsx)("button",{className:"op-btn-base op-btn ".concat(P?"":"disabled"),onClick:function(){k(C,"redeem",P,Z)},children:"Confirm Redeem"})})]}):null,"collect"===J?Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"op-row2",children:[Object(m.jsxs)("div",{className:"op-row2-l",children:["Available: ",Object(m.jsx)("span",{className:"bRed",children:W})," bcToken"]}),Object(m.jsx)(p.a,{balance:W,theme:t,onClick:function(e){w(e,c)}})]}),Object(m.jsx)("div",{className:"op-row3",children:Object(m.jsx)(j.a,{className:"mine-input",token:"bcToken",value:P,onChange:function(e){w(e,c)},balance:W,theme:t})}),Object(m.jsx)("div",{className:"op-btn-row",children:Object(m.jsx)("button",{className:"op-btn-base op-btn ".concat(P?"":"disabled"),onClick:function(){k(C,"collect",P,Z)},children:"Confirm collect"})})]}):null]})})}):null]})})};c.default=function(){var e=Object(b.j)(),c=Object(s.useState)(e),t=Object(a.a)(c,2),p=t[0],O=t[1],u=Object(s.useState)([]),w=Object(a.a)(u,2),k=w[0],y=w[1],g=Object(s.useState)(!1),C=Object(a.a)(g,2),T=C[0],E=C[1],A=Object(s.useState)(!1),R=Object(a.a)(A,2),S=R[0],D=R[1],L=Object(s.useState)({btcb:{},eth:{}}),M=Object(a.a)(L,2),P=M[0],B=M[1],I=Object(s.useState)(0),K=Object(a.a)(I,2),V=K[0],_=K[1],F=Object(s.useState)({}),G=Object(a.a)(F,2),q=G[0],z=G[1],Y=Object(s.useState)({}),J=Object(a.a)(Y,2),U=J[0],W=J[1],$=Object(s.useState)({}),H=Object(a.a)($,2),Q=H[0],X=H[1],Z=Object(s.useState)({}),ee=Object(a.a)(Z,2),ce=ee[0],te=ee[1],ne=Object(s.useState)(!1),ae=Object(a.a)(ne,2),se=ae[0],ie=ae[1],le=Object(s.useState)(!1),oe=Object(a.a)(le,2),re=oe[0],de=oe[1];Object(s.useEffect)((function(){var e,c=xe(),t=Object(n.a)(c);try{for(t.s();!(e=t.n()).done;){var a=e.value;a.opVisible=!1,a.index="borrow",a.opNum=0}}catch(s){t.e(s)}finally{t.f()}y(c)}),[]),Object(s.useEffect)((function(){var e={};return Object(d.b)({theme:function(e){O(e)},pairedAmt:function(e){_(e)},colAmtMap:function(e){var c,t=Object(n.a)(x);try{for(t.s();!(c=t.n()).done;){var a=c.value;e[a.col]&&(P[a.col]=e[a.col])}}catch(s){t.e(s)}finally{t.f()}B(Object.assign({},P))},bTokenMap:function(e){var c,t=Object(n.a)(x);try{for(t.s();!(c=t.n()).done;){var a=c.value;e[a.colE]&&(P[a.colE]={},P[a.colE].BRTOKEN=e[a.colE].BRTOKEN,P[a.colE].BCTOKEN=e[a.colE].BCTOKEN)}}catch(s){t.e(s)}finally{t.f()}B(Object.assign({},P))},poolLpReserveMap:function(e){var c,t=Object(n.a)(x);try{for(t.s();!(c=t.n()).done;){var a=c.value;e[a.colE]&&(ce[a.colE]=e[a.colE])}}catch(s){t.e(s)}finally{t.f()}te(Object.assign({},ce))},colPriceMap:function(e){var c,t=Object(n.a)(x);try{for(t.s();!(c=t.n()).done;){var a=c.value;e[a.col]&&(q[a.col]=e[a.col])}}catch(s){t.e(s)}finally{t.f()}z(Object.assign({},q))},bcPriceMap:function(e){var c,t=Object(n.a)(x);try{for(t.s();!(c=t.n()).done;){var a=c.value;e[a.colE]&&(q[a.colE]=e[a.colE])}}catch(s){t.e(s)}finally{t.f()}z(Object.assign({},q))},lendApyMap:function(e){W(Object.assign({},e))},borrowApyMap:function(e){X(Object.assign({},e))}},d.a,e),function(){Object(d.c)(e)}}),[]);var be=function(e,c){c.opVisible=!e,y([].concat(k))},je=function(e,c){c.index=e,y([].concat(k))},pe=function(e,c){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"other",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];c.opNum=e;var a=q[c.colE];"borrow"===t?(c.impact=Object(b.f)(e,n[0],n[1],c.mintRatioText,t),c.borrowInterest=(e*Number(c.mintRatioText)*(1-a)).toFixed(4)):"lend"===t&&(c.impact=Object(b.f)(e,n[0],n[1],c.mintRatioText,t),c.lendInterest=(e*(1/a-1)).toFixed(4)),c.impactLimit=c.impact>v,y([].concat(k))},me=function(e,c){c.depositCheck=!e,y([].concat(k))},Oe=function(e,c,t,n){var a=Object(b.g)(t);if(a){var s=n.impactLimit;void 0!==s&&s?Object(b.c)("price impact is too large"):(console.log(e,c,t,a),"borrow"===c&&d.a.event.emit("depositAndSwapToPaired",{col:e,num:t,ext:n}),"lend"===c&&d.a.event.emit("lend",{col:e,num:t,ext:n}),"deposit"===c&&d.a.event.emit("deposit",{col:e,num:t,ext:n}),"mmDeposit"===c&&d.a.event.emit("mmDeposit",{col:e,num:t,ext:n}),"repay"===c&&d.a.event.emit("repay",{col:e,num:t,ext:n}),"redeem"===c&&d.a.event.emit("redeem",{col:e,num:t,ext:n}),"collect"===c&&d.a.event.emit("collect",{col:e,num:t,ext:n}))}},he=function(e){var c=h[e].BCTOKEN,t=r.a.SwapUrl+"add/"+c+"/"+N;window.open(t,"_blank")},ue=function(e){console.log(e),E(!0)},xe=function(){var e,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"valid",t=r.a.MARKET_POOL_LIST,a=[],s=Object(n.a)(t);try{for(s.s();!(e=s.n()).done;){var i=e.value;i.inActiveFlag||a.push(i)}}catch(l){s.e(l)}finally{s.f()}return"valid"===c?a:t};return Object(m.jsxs)("div",{className:"page-center",style:{justifyContent:"flex-start",paddingTop:"40px",padding:"8px 16px",width:"100%"},children:[Object(m.jsxs)("div",{className:"flex",style:{width:"100%"},children:[Object(m.jsxs)("div",{className:"flex1 tal",children:[Object(m.jsx)(i.a,{checked:re,onChange:function(){!function(){de(!re);var e,c=xe(re?"valid":"all"),t=Object(n.a)(c);try{for(t.s();!(e=t.n()).done;){var a=e.value;a.opVisible=!1,a.index="borrow",a.opNum=0}}catch(s){t.e(s)}finally{t.f()}y(c)}()}}),"\xa0Show inactive pairs"]}),Object(m.jsxs)("div",{className:"flex1 tar",children:[Object(m.jsx)(i.a,{checked:se,onChange:function(){!function(){ie(!se);var e,c=xe(),t=[],a=Object(n.a)(c);try{for(a.s();!(e=a.n()).done;){var s=e.value;if(s.opVisible=!1,s.index="borrow",s.opNum=0,se)t.push(s);else{var i=P[s.colE],l=i.BRTOKEN,o=i.BCTOKEN;(l||o)&&t.push(s)}}}catch(r){a.e(r)}finally{a.f()}y(t)}()}}),"\xa0Only show my positions"]})]}),Object(m.jsx)("div",{className:"card bg-".concat(p),children:Object(m.jsx)("div",{className:"card-container",children:Object(m.jsxs)("table",{className:"card-table",children:[Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{children:b.b.map((function(e,c){return Object(m.jsx)("th",{className:"".concat("Due Date"===e?"underline":""),children:"Due Date"===e?Object(m.jsx)(l.a,{placement:"topLeft",title:"loan must be repaid before expiry or you will default and lose your collateral.",children:e}):e},c)}))})}),k.map((function(e,c){return Object(m.jsx)(f,{item:e,theme:p,colAmt:P[e.col],bcAssetsMap:P[e.colE],pairedAmt:V,colPrice:q[e.col],bcPrice:q[e.colE],lendApy:U[e.colE],borrowApy:Q[e.colE],supply:ce[e.colE],changeVisible:be,setIndex:je,updateOpNum:pe,handleOp:Oe,goSwap:he,onDepositChange:me,openModal:ue},c)})),k.length?null:Object(m.jsx)("tbody",{children:Object(m.jsx)("tr",{children:Object(m.jsx)("td",{colSpan:"4",className:"empty",children:"No pool in Market!"})})})]})})}),Object(m.jsxs)(o.a,{title:"Settings",width:320,visible:T,onOk:function(){console.log("ok")},onCancel:function(){E(!1)},footer:null,closable:!1,children:[Object(m.jsx)("div",{className:"dotted",children:"Slippage Tolerance %"}),Object(m.jsx)(j.a,{className:"mine-input",placeholder:"Max Slippage %",value:S,onChange:function(e){D(e)},balance:100,theme:p})]})]})}}}]);
//# sourceMappingURL=9.403cd03c.chunk.js.map